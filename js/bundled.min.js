const mainHeader=document.querySelector("[data-header]"),mainNavigation=document.querySelector("[data-navigation]"),mainNavigationList=document.querySelector("[data-navigation-list]"),mobileNavigationTrigger=document.querySelector("[data-navigation-toggle]"),mobileNavigation=document.querySelector("[data-navigation-list]"),fadeIns=document.querySelectorAll(".gsap-fade-in"),counters=document.querySelectorAll("[data-counter]");gsap.registerPlugin(ScrollTrigger);function navigationFocus(){const e=mainNavigation.querySelectorAll("a[href], button"),t=e[0],n=e[e.length-1];mainNavigation.addEventListener("keydown",function(e){e.target===t&&e.key==="Tab"&&e.shiftKey?(e.preventDefault(),n.focus()):e.target===n&&e.key==="Tab"&&!e.shiftKey&&(e.preventDefault(),t.focus())})}function handleEscape(){document.addEventListener("keyup",function(e){const t=e.key;t==="Escape"&&mobileNavigation.classList.contains("open")&&(mobileNavigationTrigger.setAttribute("aria-expanded","false"),mobileNavigationTrigger.focus(),mobileNavigation.classList.remove("open"),mainHeader.classList.remove("main-header--navigation-open"),mobileNavigationTrigger.innerHTML="Open Menu")})}mobileNavigationTrigger.addEventListener("click",function(){mainHeader.classList.toggle("main-header--navigation-open"),mainNavigationList.classList.toggle("open"),this.classList.toggle("nav-open"),navigationFocus(),handleEscape(),mainNavigationList.classList.contains("open")?(this.setAttribute("aria-expanded","true"),this.innerHTML="Close Menu"):(this.setAttribute("aria-expanded","false"),this.innerHTML="Open Menu")});const animateCounters=()=>{counters.forEach(e=>{const t=parseFloat(e.getAttribute("data-value"));gsap.to(e,{duration:2,innerHTML:t,snap:{innerHTML:1},onUpdate(){e.innerHTML=Math.round(this.targets()[0].innerHTML)},ease:"power1.out"})})},animateFadeIns=()=>{fadeIns.forEach(e=>{gsap.set(e,{visibility:"visible"}),gsap.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:1,scrollTrigger:{trigger:e,start:"top 90%",end:"bottom top",once:!0}}),e.addEventListener("focus",()=>triggerAnimation(e))})},triggerAnimation=e=>{gsap.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:1})},initAnimations=()=>{counters.length>0&&animateCounters(),fadeIns.length>0&&animateFadeIns()};initAnimations()